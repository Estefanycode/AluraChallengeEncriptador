<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encriptador</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <main id="fondoMain">
        <header class="header">
            <img class="logotipo" src="images/logo.png" alt="logotipo Alura">

        </header>

        <section class="cont">
            <div class="cont_box1">
                <textarea placeholder="ingrese el texto aqui..." class="cont_box1__textarea text-area"></textarea>

                <p class="cont_box1__aviso">Solo letras minúsculas y sin acentos</p>
                <div class="contBTN">
                    <button class="btn-encriptar" onclick="btnEncriptar()">Encriptar</button>
                    <button class="btn-desencriptar" onclick="btnDesencriptar()">Desencriptar</button>
                </div>
            </div>

            <div class="cont_box2">
                <div class="divPasivo">
                    <div class="divPasivo_box">
                        <img class="imgpasivo" src="images/Muñeco.png">
                        <p class="text1pasivo">Ningún mensaje fue encontrado</p>
                        <p class="text2pasivo">Ingresa el texto que desees encriptar o desencriptar.</p>
                    </div>
                </div>
                <div class="divActivo">
                    <div class="divActivo_box">
                        <textarea class="txtActivo mensaje" readonly="readonly">

                </textarea>
                        <button class="BtnCopiar" onclick="copiarTexto();">
                            Copiar
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        const textArea = document.querySelector(".text-area");
const mensaje = document.querySelector(".mensaje");

//La letra "e" es convertida para "enter"
//La letra "i" es convertida para "imes"
//La letra "a" es convertida para "ai"
//La letra "o" es convertida para "ober"
//La letra "u" es convertida para "ufat"

function btnEncriptar() {
    const textoEncriptado = encriptar(textArea.value);
    mensaje.value = textoEncriptado;
    // textArea.value = "";
    mensaje.getElementsByClassName.backgroundImage = "none";
    const divpasivo = document.querySelector(".divPasivo");
    divpasivo.style.display = "none";
    const divactivo = document.querySelector(".divActivo");
    divactivo.style.display = "block";

}

function encriptar(stringEncriptada) {
    let matrizCodigo = [
        ["e", "enter"],
        ["i", "imes"],
        ["a", "ai"],
        ["o", "ober"],
        ["u", "ufat"]
    ]
    stringEncriptada = stringEncriptada.toLowerCase()

    for (let i = 0; i < matrizCodigo.length; i++) {
        if (stringEncriptada.includes(matrizCodigo[i][0])) {
            stringEncriptada = stringEncriptada.replaceAll(matrizCodigo[i][0], matrizCodigo[i][1])

        }

    }
    return stringEncriptada;
}

function btnDesencriptar() {
    const textoEncriptado = desencriptar(mensaje.value)
    mensaje.value = textoEncriptado;
    // textArea.value = "";
    mensaje.getElementsByClassName.backgroundImage = "none";
}


function desencriptar(stringDesencriptada) {
    let matrizCodigo = [
        ["e", "enter"],
        ["i", "imes"],
        ["a", "ai"],
        ["o", "ober"],
        ["u", "ufat"]
    ]
    stringDesencriptada = stringDesencriptada.toLowerCase();

    for (let i = 0; i < matrizCodigo.length; i++) {
        if (stringDesencriptada.includes(matrizCodigo[i][1])) {
            stringDesencriptada = stringDesencriptada.replaceAll(matrizCodigo[i][1], matrizCodigo[i][0])

        }
    }
    return stringDesencriptada;
}


function copiarTexto() {
    const textoACopiar = document.querySelector(".mensaje");
    textoACopiar.select();

    document.execCommand("copy");
}
    </script>

</body>

</html>
